# Webhook auth token (Authorization: Bearer <token>)
WEBHOOK_TOKEN=dev-token

# Paths
QUEUE_ROOT=var/queue
ARTIFACTS_ROOT=artifacts
WORKSPACES_ROOT=workspaces
STATE_DB_PATH=var/state.db
# Optional webhook aliases: project_id=/absolute/path/to/repo
PROJECT_ALIASES=

# Runner
RUNNER_POLL_INTERVAL_SEC=1
RUNNER_MAX_IDLE_SEC=120
RUNNER_RECLAIM_AFTER_SEC=600
RUNNER_MAX_ATTEMPTS_PER_STEP=3

# Enable real CLI execution (OFF by default)
ENABLE_REAL_CLI=0

# Sandbox (recommended ON for real CLI)
SANDBOX=1
# Optional: when enabled, subprocess env is reduced to PATH + allowlisted vars
SANDBOX_CLEAR_ENV=0
# Optional: wrapper command for sandboxing (examples)
# SANDBOX_WRAPPER=bwrap
# SANDBOX_WRAPPER_ARGS=--unshare-all --die-with-parent --ro-bind /usr /usr --proc /proc --dev /dev --tmpfs /tmp

# Allowlist: comma-separated binaries that orchestrator is allowed to execute
ALLOWED_BINARIES=opencode,claude,codex,git,python,pytest,node,npm
# Optional min versions checked at runner startup when ENABLE_REAL_CLI=1
# MIN_BINARY_VERSIONS=opencode=1.0.0,codex=1.0.0,claude=1.0.0,git=2.39.0
MIN_BINARY_VERSIONS=

# Optional: network policy hint (enforced only via sandbox wrapper)
NETWORK_POLICY=deny

# Explicit env vars passed to subprocesses (principle of least privilege)
ENV_ALLOWLIST=ANTHROPIC_API_KEY,OPENAI_API_KEY,PATH,HOME,TMPDIR

# Additional vars whose values should be redacted in artifacts/logs
SENSITIVE_ENV_VARS=ANTHROPIC_API_KEY,OPENAI_API_KEY

# Max combined chars loaded from input_artifacts into a step prompt
MAX_INPUT_ARTIFACTS_CHARS=40000
# Max number of input artifacts loaded into prompt
MAX_INPUT_ARTIFACTS_FILES=10
# Max chars loaded per one input artifact
MAX_INPUT_ARTIFACT_CHARS=12000

# Max webhook request body size in bytes (default 256KB)
MAX_WEBHOOK_BODY_BYTES=262144
# Budget gate (0 = disabled)
MAX_DAILY_API_CALLS=0
MAX_DAILY_COST_USD=0
# Non-git workdir behavior for real CLI mode: needs_human|failed
NON_GIT_WORKDIR_STATUS=needs_human
# Retention cleanup schedule + TTLs (seconds)
RETENTION_INTERVAL_SEC=300
ARTIFACTS_TTL_SEC=604800
WORKSPACES_TTL_SEC=172800

# Logging
LOG_LEVEL=INFO
LOG_JSON=0
